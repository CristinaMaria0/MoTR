sigma_e=sigma_e)
## no correlations estimated to avoid convergence problems:
## analysis done after log-transforming:
m<-lmer(log(rt) ~ 1 + c1 + (c1 || subj) + (c1 || item),
data=dat)
summary(m)
# ## ignore failed trials
if(any( grepl("failed to converge", m@optinfo$conv$lme4$messages) )){
failed1[j,i]<-1
} else{
pvalcond1[j,i]<-summary(m)$coefficients[2,5]
}
}
}
pvalcond1[failed1 == 1] <- NA
pow1<-rep(NA,length(beta2_1))
for(k in 1:length(beta2_1)){
pow1[k]<-mean(pvalcond1[k,]<= 0.05,na.rm=TRUE)
}
for(j in 1:length(beta2_2)){
for(i in 1:nsim){
beta[2]<-beta2_2[j]
dat<-gen_fake_lnorm(nitem=nitem,
nsubj=nsubj,
beta=beta,
Sigma_u=Sigma_u,
Sigma_w=Sigma_w,
sigma_e=sigma_e)
## no correlations estimated to avoid convergence problems:
## analysis done after log-transforming:
m<-lmer(log(rt) ~ 1 + c1 + (c1 || subj) + (c1 || item),
data=dat)
summary(m)
# ## ignore failed trials
if(any( grepl("failed to converge", m@optinfo$conv$lme4$messages) )){
failed2[j,i]<-1
} else{
pvalcond2[j,i]<-summary(m)$coefficients[2,5]
}
}
}
pvalcond2[failed2 == 1] <- NA
pow2<-rep(NA,length(beta2_2))
for(k in 1:length(beta2_2)){
pow2[k]<-mean(pvalcond2[k,]<= 0.05,na.rm=TRUE)
}
power_results <- data.frame(
experiment = exp,
metric = met,
measure = mes,
lm_fit = target_df$fit,
n_subj = nsubj,
n_item = nitem,
Q1 = q1$Q1,
median = q1$median,
Q3 = q1$Q3,
failed_mean = (mean(failed1) + mean(failed2))/2,
power_Q1 = (pow1[1] + pow2[1])/2 ,
power_median = (pow1[2] + pow2[2])/2,
power_Q3 = (pow1[3] + pow2[3])/2
)
}
power_df <- rbind(power_df, power_results)
}
}
}
}
}
rownames(power_df) <- NULL
write.csv(power_df, "../data/power_df_simulation_num2.csv")
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+facet_grid(~experiment)+geom_hline(yintercept=.8)+coord_cartesian(xlim=c(0,60))+labs(y="Power estimate", x="Simulated participant count")+theme_bw()+theme(legend.position="right", legend.title=element_blank(), text = element_text(size = 13, colour="black"))+  scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
# ggsave("../graph_for_cuny2.pdf")
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+facet_grid(~experiment)+geom_hline(yintercept=.8)+coord_cartesian(xlim=c(0,80))+labs(y="Power estimate", x="Simulated participant count")+theme_bw()+theme(legend.position="right", legend.title=element_blank(), text = element_text(size = 13, colour="black"))+  scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
# ggsave("../graph_for_cuny2.pdf")
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure, linetype=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255))) +
scale_linetype_manual(values=c("solid", "dotted", "dashed", "longdash"))  # Manually set linetypes
# ggsave("../graph_for_cuny2.pdf")
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure, linetype=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, "_2024_feb24.pdf"), device="pdf", width = 8, height = 4.5)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, "_2024_feb24.pdf"), device="pdf", width = 8, height = 4.5)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 4.5)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 10, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 4)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 15, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 4)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 15, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 6, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 15, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 2)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure))+
geom_line(aes(x=n_subj, y=power, color=measure), size=1.2)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.2)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1.2)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.5)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1.2)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=2)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1.2)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.2)+
geom_line(aes(x=n_subj, y=power, color=measure))+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.2)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1.1)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.2)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.5)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.8)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.8)+
geom_line(aes(x=n_subj, y=power, color=measure), size=0.8)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
# Plot power analysis
all_power <- read.csv("../data/power_df_simulation_num.csv") %>%
filter(metric == 'go_past_time') %>%
rename(power = power_median) %>%
dplyr::select(experiment, metric, measure, n_subj, power)
all_power
ggplot(all_power)+
geom_point(aes(x=n_subj, y=power, color=measure), size=1.8)+
geom_line(aes(x=n_subj, y=power, color=measure), size=1)+
facet_grid(~experiment)+
geom_hline(yintercept=.8)+
coord_cartesian(xlim=c(0,80))+
labs(y="Power estimate", x="Simulated participant count")+
theme_bw()+
theme(
legend.position="right",
legend.title=element_blank(),
text = element_text(size = 13, colour="black"))+
scale_color_manual(values=c(rgb(139/255, 173/255, 51/255),rgb(172/255, 222/255, 225/255) , rgb(231/255, 125/255, 144/255), rgb(189/255, 127/255, 248/255)))
ggsave(paste0("../visualizations/power_analysis_comp_cris", rate, ".pdf"), device="pdf", width = 8, height = 3)
filter_df = filter_df %>% filter(p_correct < 0.8)
filter_list = filter_df$subj
filter_list
