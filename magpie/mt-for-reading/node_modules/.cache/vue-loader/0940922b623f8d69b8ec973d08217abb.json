{"remainingRequest":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/src/App.vue","mtime":1670447405154},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/cache-loader/dist/cjs.js","mtime":1670447655120},{"path":"/Users/cui/Documents/ETH/MoTR/magpie/mt-for-reading/node_modules/vue-loader/lib/index.js","mtime":1670447657348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIExvYWQgZGF0YSBmcm9tIGNzdiBmaWxlcyBhcyBqYXZhc2NyaXB0IGFycmF5cyB3aXRoIG9iamVjdHMKaW1wb3J0IHRlc3RUcmlhbHMgZnJvbSAnLi4vdHJpYWxzL3Rlc3RUcmlhbHMuY3N2JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgdkJsdXIgZnJvbSAndi1ibHVyJzsKClZ1ZS51c2UodkJsdXIpCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlc3RUcmlhbHMsCiAgICAgIGlzQmx1cnJlZDogdHJ1ZSwKICB9fSwKCiAgY29tcHV0ZWQ6IHsKCiAgfSwKCiAgbWV0aG9kczogewogICAgY2hhbmdlRm9udCgpIHsKICAgICAgY29uc29sZS5sb2coJ2dvb2QnKTsKICAgICAgLy8gJG1hZ3BpZS5tb3VzZXRyYWNraW5nLnN0YXJ0KCk7CiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoIi5yZWN0LWN1cnNvciIpLmNsYXNzTGlzdC5hZGQoJ2dyb3cnKQogICAgICAKICAgIH0sCgogICAgY2hhbmdlQmFjaygpIHsKICAgICAgY29uc29sZS5sb2coJ2JhY2snKTsKICAgICAgdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLnJlY3QtY3Vyc29yIikuY2xhc3NMaXN0LnJlbW92ZSgnZ3JvdycpOwogICAgfSwKCiAgICBtb3ZlQ3Vyc29yKGUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2dyZWF0Jyk7CiAgICAgIGxldCB4ID0gZS5jbGllbnRYOwogICAgICBsZXQgeSA9IGUuY2xpZW50WTsKICAgICAgLy8gY29uc29sZS5sb2coeCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHkpOwogICAgICAKICAgICAgdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLnJlY3QtY3Vyc29yIikuc3R5bGUubGVmdCA9IGAke3h9cHhgOwogICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCIucmVjdC1jdXJzb3IiKS5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgICAgLy8gdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLm91dC1jdXJzb3IiKS5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7CiAgICAgIC8vIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoIi5vdXQtY3Vyc29yIikuc3R5bGUudG9wID0gYCR7eX1weGA7CiAgICB9LAoKICAgIHNhdmVNb3VzZU1vdmVEYXRhKCkgewogICAgICAkbWFncGllLmFkZFRyaWFsRGF0YSgKICAgICAgICB7CiAgICAgICAgdGltZTogJG1hZ3BpZS5tb3VzZXRyYWNraW5nLmdldE1vdXNlVHJhY2soKVsnbXRfdGltZSddLCAKICAgICAgICB4OiAkbWFncGllLm1vdXNldHJhY2tpbmcuZ2V0TW91c2VUcmFjaygpWydtdF94J10sIAogICAgICAgIHk6ICRtYWdwaWUubW91c2V0cmFja2luZy5nZXRNb3VzZVRyYWNrKClbJ210X3knXSwKICAgICAgICBzdGFydFRpbWU6ICRtYWdwaWUubW91c2V0cmFja2luZy5nZXRNb3VzZVRyYWNrKClbJ210X3N0YXJ0X3RpbWUnXX0KICAgICAgICApOwogICAgICBjb25zb2xlLmxvZygnYWRkZWQhJykKICAgIH0sCgogICAgYXN5bmMgdHVybk9uRnVsbFNjcmVlbigpIHsKICAgICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgdHVybk9mZkZ1bGxTY3JlZW4oKSB7CiAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7CiAgICB9LAogICAgZ2V0U2NyZWVuRGltZW5zaW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aW5kb3dfaW5uZXJfd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgICAgIHdpbmRvd19pbm5lcl9oZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodAogICAgICB9OwogICAgfQogIH0sCgogIC8vIG1vdW50ZWQoKSB7CiAgLy8gICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdmVDdXJzb3IpOyAKICAvLyB9LAogIC8vIGRlc3Ryb3llZCgpIHsKICAvLyAgIHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW92ZUN1cnNvcik7fSwKICAKCn07Cgo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";AAgDA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <Experiment title=\"Test blur text with mouse tracking \">\n    <InstructionScreen :title=\"'Welcome'\">\n      <p>This is a sample introduction screen.</p>\n      <p>Please use the \"Fullscreen Mode\" for the duration of the experiment:\n        <a href=\"javascript:void(0)\" @click=\"turnOnFullScreen\">Fullscreen Mode</a>\n      </p>\n      <p v-blur=\"isBlurred\">This experiment can sometimes be difficult. Please be patient</p>\n    </InstructionScreen>\n\n    Make two test screens to see how to blur text, tracking mouse, unblur text and recode data.\n    <template v-for=\"(trial, i) of testTrials\">\n      <Screen :key=\"i\" MousetrackingStart>\n        <Slide>\n\n          <div class=\"rect-cursor\"></div>\n            <!-- @mousemove=\"moveCursor\" -->\n\n          <p class=\"readingText\" @mouseover=\"changeFont\" @mouseleave=\"changeBack\" @mousemove=\"moveCursor\">\n          <!-- <p class=\"readingText\" v-blur=\"blurConfig\" >       -->\n            {{trial.item_content}}\n          </p>\n\n          <div class=\"out-cursor\" style=\"opacity: 0.3; filter: blur(3.5px); transition: all 0.3s linear 0s;\"> \n            {{trial.item_content}}\n          </div>\n\n          <!-- <button class=\"next\" @click=\" saveMouseMoveData(); $magpie.saveAndNextScreen()\"> -->\n          <button class=\"next\" @click=\" saveMouseMoveData(); $magpie.nextScreen()\">\n            Next\n          </button>\n\n          <!-- <Record\n            :data=\"{\n            itemId: trial.item_id,\n            tem: trial.item_content,\n            }\"\n          /> -->\n\n        </Slide>\n      </Screen>\n    </template>\n\n    <SubmitResultsScreen />\n  </Experiment>\n</template>\n\n<script>\n// Load data from csv files as javascript arrays with objects\nimport testTrials from '../trials/testTrials.csv';\nimport _ from 'lodash';\nimport Vue from 'vue';\nimport vBlur from 'v-blur';\n\nVue.use(vBlur)\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      testTrials,\n      isBlurred: true,\n  }},\n\n  computed: {\n\n  },\n\n  methods: {\n    changeFont() {\n      console.log('good');\n      // $magpie.mousetracking.start();\n      this.$el.querySelector(\".rect-cursor\").classList.add('grow')\n      \n    },\n\n    changeBack() {\n      console.log('back');\n      this.$el.querySelector(\".rect-cursor\").classList.remove('grow');\n    },\n\n    moveCursor(e) {\n      // console.log('great');\n      let x = e.clientX;\n      let y = e.clientY;\n      // console.log(x);\n      // console.log(y);\n      \n      this.$el.querySelector(\".rect-cursor\").style.left = `${x}px`;\n      this.$el.querySelector(\".rect-cursor\").style.top = `${y}px`;\n      // this.$el.querySelector(\".out-cursor\").style.left = `${x}px`;\n      // this.$el.querySelector(\".out-cursor\").style.top = `${y}px`;\n    },\n\n    saveMouseMoveData() {\n      $magpie.addTrialData(\n        {\n        time: $magpie.mousetracking.getMouseTrack()['mt_time'], \n        x: $magpie.mousetracking.getMouseTrack()['mt_x'], \n        y: $magpie.mousetracking.getMouseTrack()['mt_y'],\n        startTime: $magpie.mousetracking.getMouseTrack()['mt_start_time']}\n        );\n      console.log('added!')\n    },\n\n    async turnOnFullScreen() {\n      if (!document.fullscreenElement) {\n        try {\n          await document.documentElement.requestFullscreen();\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      return true;\n    },\n    turnOffFullScreen() {\n      document.exitFullscreen();\n    },\n    getScreenDimensions() {\n      return {\n        window_inner_width: window.innerWidth,\n        window_inner_height: window.innerHeight\n      };\n    }\n  },\n\n  // mounted() {\n  //   this.$el.addEventListener('mousemove', this.moveCursor); \n  // },\n  // destroyed() {\n  //   this.$el.removeEventListener('mousemove', this.moveCursor);},\n  \n\n};\n\n</script>\n\n\n<style>\n  .experiment {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .screen {\n    position: relative;\n    width: 80%;\n    height: auto;\n  }\n\n  .readingText {\n    /* z-index: 1; */\n    position: absolute;\n    color: white;\n    text-align: left;\n    cursor: none;\n  }\n\n  button {\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n  }\n\n  .rect-cursor {\n    position: fixed;\n    /* left: 10px; */\n    z-index: 2;\n    width: 2px;\n    height: 2px;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    mix-blend-mode: difference;\n    /* border-radius: 50%; */\n    pointer-events: none;\n    transition: width 0.5s, height 0.5s;\n     \n  } \n\n  .rect-cursor.grow {\n    width: 120px;\n    height: 30px;\n    transition: width 0.5s, height 0.5s;\n  }\n\n  .out-cursor {\n    margin: 17px 0;\n    position: absolute;\n    pointer-events: none;\n    color: black;\n    text-align: left;\n  }\n\n</style>\n"]}]}